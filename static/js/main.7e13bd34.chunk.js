(this["webpackJsonplobe-web-sample"]=this["webpackJsonplobe-web-sample"]||[]).push([[0],[,,,,,,,,function(e,t,n){var c=n(26),i=["loadModel","disposeModel","predict"];e.exports=function(){var e=new Worker(n.p+"83c31cb3af07d49a4fef.worker.js",{name:"[hash].worker.js"});return c(e,i),e}},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(7),a=n.n(r),o=(n(13),n(2)),s=(n(3),n(5),n(6)),u=n.n(s),l=(n(15),n(0)),d=function(e){var t=e.additionalClassname,n=e.children,c="blur-container";return t&&(c+=" ".concat(t)),Object(l.jsx)("div",{className:c,children:n})},j=(n(17),function(e){var t=e.onClick,n=e.setHover,c=e.children;return Object(l.jsx)("div",{onClick:t?function(){return t()}:void 0,onMouseEnter:n?function(){return n(!0)}:void 0,onMouseLeave:n?function(){return n(!1)}:void 0,children:Object(l.jsx)(d,{additionalClassname:"square-button",children:c})})});n.p,n.p,n(18);n.p,n(19);n(20);var b=function(e){e.predictCanvas,e.predictions;var t=Object(c.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)(void 0),s=Object(o.a)(a,2),d=(s[0],s[1]),j=Object(c.useState)(!0),b=Object(o.a)(j,2),f=(b[0],b[1],Object(c.useRef)(null),Object(c.useState)(!1)),v=Object(o.a)(f,2),O=(v[0],v[1],Object(c.useCallback)((function(e){var t=e.filter((function(e){return"videoinput"===e.kind}));r(t),t.length>0&&d(t[0].deviceId)}),[r,d]));return Object(c.useEffect)((function(){navigator.mediaDevices.enumerateDevices().then(O)}),[O]),Object(l.jsx)(l.Fragment,{children:i.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsx)(u.a,{audio:!1,videoConstraints:{deviceId:e.deviceId}}),e.label||"Device ".concat(t+1)]})}))})};n(21);var f=function(e){var t=e.label,n=e.confidence,c=e.top;return Object(l.jsxs)("div",{className:"prediction-entry",children:[t,n?Object(l.jsx)("div",{className:"prediction-bar"+(c?" prediction-green":""),style:{width:(100*n).toString()+"%"}}):null]},t)};n(22);var v=function(e){var t,n=e.predictions,c=e.top,i=void 0===c?3:c;return n&&(t=Object.entries(n).sort((function(e,t){return t[1]-e[1]})).slice(0,i)),Object(l.jsx)("div",{id:"predictions",children:Object(l.jsx)(d,{additionalClassname:"prediction-container",children:t?t.map((function(e,t){var n=Object(o.a)(e,2),c=n[0],i=n[1];return Object(l.jsx)(f,{label:c,confidence:i,top:0===t},c)})):Object(l.jsx)(f,{label:"Loading..."})})})},O=n.p+"static/media/gallery.45752e9c.svg";n(23);var g=function(e){var t=e.setImageFile,n=e.imageFile,i=Object(c.useRef)(null);return Object(c.useEffect)((function(){!n&&i.current&&(i.current.value="")}),[n,i]),Object(l.jsxs)("div",{id:"image-select-button",onClick:function(){i.current&&i.current.click()},children:[Object(l.jsx)(j,{children:Object(l.jsx)("img",{id:"gallery-icon",src:O,alt:"File Selector"})}),Object(l.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:function(e){var n=e.target.files;n&&n.length>0&&t(n[0])},style:{display:"none"}})]})},p=n.p+"static/media/close.b502d4ba.svg";n(24);var m=function(e){var t=e.setImageFile;return Object(l.jsx)("div",{id:"image-close-button",children:Object(l.jsx)(j,{onClick:function(){t(null)},children:Object(l.jsx)("img",{id:"close-icon",src:p,alt:"Close"})})})};n(25);var h=function(e){var t=e.predictCanvas,n=e.image,i=e.setImageFile,r=Object(c.useRef)(null),a=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=new FileReader;e.onload=function(e){var n=new Image;n.onload=function(){if(r.current){r.current.width=n.width,r.current.height=n.height;var e=r.current.getContext("2d");e&&(e.drawImage(n,0,0),t(r.current))}},e.target&&(n.src=e.target.result,a.current&&(a.current.style.backgroundImage="url(".concat(e.target.result,")")))},e.readAsDataURL(n)}),[n,t,a]),Object(l.jsxs)("div",{id:"static-image",ref:a,children:[Object(l.jsx)(m,{setImageFile:i}),Object(l.jsx)("canvas",{ref:r,style:{display:"none"}})]})},x=n(8),C=n.n(x)()();C.loadModel("/test_app/model/signature.json","/test_app/model/model.json");var F=function(){var e=Object(c.useState)(void 0),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(null),a=Object(o.a)(r,2),s=a[0],u=a[1],d=Object(c.useCallback)((function(e){var t=e.getContext("2d");if(t){var n=t.getImageData(0,0,e.width,e.height);C.predict(n).then((function(e){e&&i(e.Confidences)}))}}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(g,{setImageFile:u,imageFile:s}),s?Object(l.jsx)(h,{predictCanvas:d,image:s,setImageFile:u}):Object(l.jsx)(b,{predictCanvas:d,predictions:n}),Object(l.jsx)(v,{predictions:n})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root")),I()}],[[27,1,2]]]);
//# sourceMappingURL=main.7e13bd34.chunk.js.map